<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="utf-8">

<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

<!-- Latest compiled and minified JQuery -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

<script src="scripts.js"></script>

<script>
	function enviar(id){
		location.href='/modificarReporte?id='+id;
	}
	
	function filtrar(){
		var estado = document.getElementById('estado').value;
		location.href='/consultarReporteEstado?estado='+estado;
	}
</script> 
<title>CEST - Reportes</title>

</head>

<nav id="menu"></nav>

<script>
$.get("/navBar", function(data){
    $("#menu").replaceWith(data);
});
</script>

<body>
	<div class="container theme-showcase" role="main">
		<div class="jumbotron" style="background: rgb(13,67,113)">
			<h1 align="center" style="color:white">Consultar Reporte</h1>
		</div>

		<div class="col-md-1"></div>
	 </div>
	 <br>

	<div class="container">
			<div class="col-md-2 form-group">
					<label>Estado</label> <br>
					<select  class="form-control" id="estado"  style="width: 100%">
						<option> Pendiente</option>
						<option> Revisado</option>
					</select>
			</div>
			<div><button onclick="filtrar();" class="btn btn-lg btn-primary"><span class="glyphicon glyphicon-search"></span></button> </div>
			<div></div>
			<div>   </div>
   			<div class="form-group">
   				<table id="reportes" class="table table-bordered table-striped">
   					<tr>
    					<td><label>Elemento</label></td>
						<td><label>Fecha</label></td>
						<td><label>Ubicacion</label></td>
						<td><label>Estado</label></td>
						<td><label>Leido</label></td>
						<td><label></label></td>
					</tr>
					<th:block th:each="reporte:${reportes}">
					      <tr>
					      
					         <td th:text="${reporte.id}"></td>
					         <td th:text="${reporte.fechareporte}"></td>
					         <td th:text="${reporte.ubicacion}"></td>
					         <td th:text="${reporte.estado}"></td>
					         <td th:text="${reporte.leido}"></td>
					            
					         <td>
					         	<label>
					         		<button th:onclick="'javascript:enviar(' + ${reporte.id} + ')'"  class="btn btn-primary"> 
					         			<span class="glyphicon glyphicon-eye-open">
					         			</span>
					         		</button>
					         	</label>
					         </td>
					      </tr>
					</th:block>
		        </table>
   			</div>
   			<div class="col-md-5"></div>
	</div>
</body>
</html>
